{"name":"Carproject","tagline":"Embedded car racing project","body":"# carproject\r\nEmbedded car racing project at Aalto University.\r\n\r\n### Usage\r\n\r\n  When car is powered on, it displays initialization messages on the LCD screen.\r\n  When everything is ready, display shows \"Drive Test.\" \"Press button...\"\r\n  Drive test can be started by pressing button. Car starts driving\r\n  within ~one second after button press. \r\n\r\n  Test ends automatically after 90 seconds. Test can be cancelled at any\r\n  time by pressing button. Test will also stop if car loses track for\r\n  several seconds.\r\n  When test ends, display shows \"*** END ***\" \"Press button ...\".\r\n  Test can be restarted by following the instructions on the LCD display.\r\n\r\n  During drive test LCD display shows some diagnostics.\r\n  First line:  \"005: d-2 w03\"    (= remaining test time, stripe position, stripe width)\r\n  Second line: \"Speed 40 cm/s\"   (= current speed reported by tachometer)\r\n\r\n  There are several tests to verify hardware drivers. Tests can be enabled from main.c \r\n  and are not covered by this document.\r\n\r\n\r\n### Algorithm description\r\n\r\n  Driving algorithm is very simple. It constantly tracks stripe position and\r\n  changes car direction when stripe is not in the middle.\r\n\r\n  Speed is controlled every 30 ms. Speed is faster when stripe is on the middle,\r\n  and slows down relative to stripe position.\r\n  Speed is also reduced when stripe is wide (we're not going to stripe direction),\r\n  when stripe is lost and when stripe position moves fast.\r\n\r\n  Driving algorithm uses following functions:\r\n\r\n  control the car:\r\n    car_set_speed()  : set car speed (in cm/s), maintained by tacometer HW driver\r\n    car_set_dir()    : set car direction (in degrees)\r\n\r\n  gather information about track:\r\n    car_stripe_pos()  : current stripe position, -7...7, 0 = center\r\n    car_stripe_width(): current stripe width (number of active sensors)\r\n\r\n  user interaction:\r\n    car_button_pressed()\r\n    car_lcd_printf()\r\n    car_lcd_message()\r\n    car_current_speed()\r\n\r\n    sleep_ms()\r\n    car_time_ms()\r\n\r\n\r\n### Implementaton\r\n\r\nImplementation is divided to three layers:\r\n\r\n  #### Hardware drivers\r\n    Hardware drivers handle all interaction with hardware.\r\n    Interface hides ports, interrupts, delays and hardware settings.\r\n\r\n  #### Hardware abstraction layer\r\n    This layer converts all hardware-specific units to \"real\" units\r\n    and hides details of hardware (like LCD control bytes, ...).\r\n    Layer provides useful, simple to use functions for car controller.\r\n\r\n  #### Car controller\r\n    Car controller drives the car. It uses information provided by\r\n    sensors and adjust speed and direction based on those.\r\n    It also handles user interaction (start/stop tests, display diagnostics).\r\n\r\n### Source files:\r\n  hw.[ch]   hardware drivers\r\n  hwdefs.h  hardware definitions\r\n  hal.[ch]  hardware abstraction layer\r\n  main.c    car controller and tests\r\n","google":"UA-57685134-1","note":"Don't delete this file! It's used internally to help with page regeneration."}